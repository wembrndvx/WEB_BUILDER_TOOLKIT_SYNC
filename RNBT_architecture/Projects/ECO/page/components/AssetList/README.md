# AssetList

ê³„ì¸µì  ìì‚° íŠ¸ë¦¬ì™€ í…Œì´ë¸”ì„ í‘œì‹œí•˜ëŠ” íŒ¨ë„ ì»´í¬ë„ŒíŠ¸

## ê¸°ëŠ¥

### íŠ¸ë¦¬ íŒ¨ë„ (ì¢Œì¸¡)
- **ê³„ì¸µ íŠ¸ë¦¬ í‘œì‹œ**: ê±´ë¬¼ > ì¸µ > ë°© > ë™ > ì¥ë¹„ ê³„ì¸µ êµ¬ì¡°
- **Lazy Loading**: ë…¸ë“œ í¼ì¹¨ ì‹œ í•˜ìœ„ ë°ì´í„° ë¡œë”©
- **íŠ¸ë¦¬ ê²€ìƒ‰**: ë…¸ë“œ ì´ë¦„ìœ¼ë¡œ í•„í„°ë§
- **ì¼ê´„ í¼ì¹¨/ì ‘ê¸°**: ì „ì²´ ë…¸ë“œ í¼ì¹¨/ì ‘ê¸° ë²„íŠ¼

### í…Œì´ë¸” íŒ¨ë„ (ìš°ì¸¡)
- **ìì‚° ëª©ë¡ í‘œì‹œ**: ì„ íƒí•œ ë…¸ë“œ í•˜ìœ„ì˜ ëª¨ë“  ìì‚°
- **ê²€ìƒ‰**: ìì‚° ì´ë¦„/IDë¡œ í…ìŠ¤íŠ¸ ê²€ìƒ‰
- **í•„í„°**: íƒ€ì…ë³„(UPS/PDU/CRAC/Sensor ë“±), ìƒíƒœë³„(Normal/Warning/Critical)
- **ê°€ìƒ ìŠ¤í¬ë¡¤**: Tabulator ê¸°ë°˜ ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬
- **í–‰ í´ë¦­ â†’ Modal**: ìì‚° íƒ€ì…ë³„ API í˜¸ì¶œ í›„ ìƒì„¸ ì •ë³´ Modal í‘œì‹œ

### ë‹¤êµ­ì–´(i18n) ì§€ì›
- **locale íŒŒë¼ë¯¸í„°**: API ìš”ì²­ ì‹œ locale ì „ë‹¬
- **ë²ˆì—­ í•„ë“œ**: `typeLabel`, `statusLabel` ì‚¬ìš©
- **locale ë³€ê²½ ì´ë²¤íŠ¸**: GlobalDataPublisher êµ¬ë…

## UI êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Asset List                                            [â†»]      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚      Tree       â”‚ â”‚ â”‚  ë³¸ê´€ > 1ì¸µ > ì„œë²„ì‹¤ A    (10ê°œ)       â”‚â”‚
â”‚  â”‚                 â”‚ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚  ğŸ¢ ë³¸ê´€        â”‚ â”‚ â”‚  [Search...]  [Type â–¼] [Status â–¼]     â”‚â”‚
â”‚  â”‚   â””â”€ ğŸ“‚ 1ì¸µ     â”‚ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚      â””â”€ ğŸšª ì„œë²„ì‹¤â”‚ â”‚ â”‚  ID    Name      Type    Status       â”‚â”‚
â”‚  â”‚                 â”‚ â”‚ â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚â”‚
â”‚  â”‚  ğŸšª ë…ë¦½ ì „ì‚°ì‹¤  â”‚ â”‚ â”‚  ...   ...       ì„œë²„    ì •ìƒ          â”‚â”‚
â”‚  â”‚                 â”‚ â”‚ â”‚  ...   ...       UPS     ê²½ê³           â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [â— Normal] [â— Warning] [â— Critical]          Total: 45         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## API ì—°ë™

### Subscriptions

| Topic | Handler | ì„¤ëª… |
|-------|---------|------|
| `hierarchy` | `renderTree` | íŠ¸ë¦¬ ë°ì´í„° ë Œë”ë§ |
| `hierarchyAssets` | `renderTable` | í…Œì´ë¸” ë°ì´í„° ë Œë”ë§ |
| `hierarchyChildren` | `appendChildren` | Lazy Loading ë°ì´í„° ì¶”ê°€ |
| `locale` | `setLocale` | locale ë³€ê²½ ì²˜ë¦¬ |

### ë°œí–‰ ì´ë²¤íŠ¸

| Event | Payload | ì„¤ëª… |
|-------|---------|------|
| `@hierarchyNodeSelected` | `{ assetId, node, locale }` | íŠ¸ë¦¬ ë…¸ë“œ ì„ íƒ |
| `@hierarchyChildrenRequested` | `{ assetId, locale }` | Lazy Loading ìš”ì²­ |
| `@localeChanged` | `{ locale }` | locale ë³€ê²½ ì•Œë¦¼ |

### í–‰ í´ë¦­ â†’ Modal íë¦„

í…Œì´ë¸” í–‰ í´ë¦­ ì‹œ ìì‚° íƒ€ì…ì— ë”°ë¼ APIë¥¼ í˜¸ì¶œí•˜ê³  Modalë¡œ ìƒì„¸ ì •ë³´ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤:

```
í–‰ í´ë¦­ â†’ onRowClick(asset)
    â”‚
    â”œâ”€â†’ íƒ€ì… í™•ì¸ (ups/pdu/crac/sensor)
    â”‚
    â”œâ”€â†’ fetchData(datasetName, { assetId, locale })
    â”‚       ì˜ˆ: fetchData('ups', { assetId: 'ups-001', locale: 'ko' })
    â”‚
    â””â”€â†’ showModal(type, detail)
            â”‚
            â””â”€â†’ API ì‘ë‹µì˜ fields ë°°ì—´ë¡œ ë™ì  ë Œë”ë§
```

**ì§€ì› íƒ€ì… ë° API ë§¤í•‘**:

| íƒ€ì… | Dataset | API |
|------|---------|-----|
| ups | ups | GET /api/ups/:assetId?locale=ko |
| pdu | pdu | GET /api/pdu/:assetId?locale=ko |
| crac | crac | GET /api/crac/:assetId?locale=ko |
| sensor | sensor | GET /api/sensor/:assetId?locale=ko |

### API ì‘ë‹µ êµ¬ì¡°

**hierarchy (íŠ¸ë¦¬ìš©)**
```javascript
{
    response: {
        data: {
            items: [
                {
                    id: "building-001",
                    name: "ë³¸ê´€",
                    type: "building",
                    typeLabel: "ê±´ë¬¼",
                    status: "warning",
                    statusLabel: "ê²½ê³ ",
                    canHaveChildren: true,
                    hasChildren: true,
                    children: [...]
                }
            ],
            summary: { depth: 1 }
        },
        meta: { locale: "ko" }
    }
}
```

**hierarchyAssets (í…Œì´ë¸”ìš©)**
```javascript
{
    response: {
        data: {
            assetId: "room-001-01-01",
            assetName: "ì„œë²„ì‹¤ A",
            assetPath: "ë³¸ê´€ > 1ì¸µ > ì„œë²„ì‹¤ A",
            assetType: "room",
            assetTypeLabel: "ë°©",
            assets: [
                {
                    id: "server-001",
                    name: "Server 001",
                    type: "server",
                    typeLabel: "ì„œë²„",
                    status: "normal",
                    statusLabel: "ì •ìƒ"
                }
            ],
            summary: { total: 10, byStatus: {...} }
        },
        meta: { locale: "ko" }
    }
}
```

## Public Methods

| ë©”ì„œë“œ | íŒŒë¼ë¯¸í„° | ì„¤ëª… |
|--------|----------|------|
| `renderTree` | `{ response }` | íŠ¸ë¦¬ ë°ì´í„° ë Œë”ë§ |
| `renderTable` | `{ response }` | í…Œì´ë¸” ë°ì´í„° ë Œë”ë§ |
| `appendChildren` | `{ response }` | Lazy Loading ë°ì´í„° ì¶”ê°€ |
| `toggleNode` | `nodeId` | ë…¸ë“œ í¼ì¹¨/ì ‘ê¸° |
| `selectNode` | `nodeId` | ë…¸ë“œ ì„ íƒ |
| `expandAll` | - | ì „ì²´ í¼ì¹¨ |
| `collapseAll` | - | ì „ì²´ ì ‘ê¸° |
| `search` | `term` | í…Œì´ë¸” ê²€ìƒ‰ |
| `filterByType` | `type` | íƒ€ì… í•„í„° |
| `filterByStatus` | `status` | ìƒíƒœ í•„í„° |
| `setLocale` | `{ response }` | locale ì„¤ì • |

## ë°ì´í„° ì¼€ì´ìŠ¤

| ì¼€ì´ìŠ¤ | ì„¤ëª… | ì˜ˆì‹œ |
|--------|------|------|
| ì¼€ì´ìŠ¤ 1 | ì¼ë°˜ ê³„ì¸µ | ë³¸ê´€ > 1ì¸µ > ì„œë²„ì‹¤ > Rack > Server |
| ì¼€ì´ìŠ¤ 2 | ì»¨í…Œì´ë„ˆ PDU | ì „ì‚°ì‹¤ > PDU Main > Circuit |
| ì¼€ì´ìŠ¤ 3 | ë¹ˆ ì»¨í…Œì´ë„ˆ | ë³„ê´€ B > 2ì¸µ (í•˜ìœ„ ì—†ìŒ) |
| ì¼€ì´ìŠ¤ 4 | ë…ë¦½ ê³µê°„ | ì™¸ë¶€ ì°½ê³  (Building ì—†ì´ root-level Room) |

## íŒŒì¼ êµ¬ì¡°

```
AssetList/
â”œâ”€â”€ i18n/
â”‚   â”œâ”€â”€ ko.json           # í•œêµ­ì–´ UI í…ìŠ¤íŠ¸
â”‚   â”œâ”€â”€ en.json           # ì˜ì–´ UI í…ìŠ¤íŠ¸
â”‚   â””â”€â”€ ja.json           # ì¼ë³¸ì–´ UI í…ìŠ¤íŠ¸
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ register.js       # ë©”ì¸ ë¡œì§ (íŠ¸ë¦¬/í…Œì´ë¸”/ì´ë²¤íŠ¸)
â”‚   â””â”€â”€ beforeDestroy.js  # ì •ë¦¬ (êµ¬ë… í•´ì œ, í…Œì´ë¸” íŒŒê´´)
â”œâ”€â”€ styles/
â”‚   â””â”€â”€ component.css     # ë‹¤í¬ í…Œë§ˆ ìŠ¤íƒ€ì¼
â”œâ”€â”€ views/
â”‚   â””â”€â”€ component.html    # UI êµ¬ì¡°
â”œâ”€â”€ preview.html          # ë…ë¦½ ì‹¤í–‰ í…ŒìŠ¤íŠ¸ (Mock Server í•„ìš”)
â”œâ”€â”€ codeflow.md           # ì½”ë“œ íë¦„ ì„¤ëª…
â””â”€â”€ README.md
```

## UI ë‹¤êµ­ì–´ (i18n)

UI í…ìŠ¤íŠ¸ëŠ” í´ë¼ì´ì–¸íŠ¸ JSON íŒŒì¼ë¡œ ê´€ë¦¬ë©ë‹ˆë‹¤.

### JSON êµ¬ì¡°

```json
{
    "panel": { "title": "ìì‚° ëª©ë¡" },
    "tree": { "title": "ê³„ì¸µ êµ¬ì¡°", "searchPlaceholder": "...", ... },
    "table": { "columns": { "id": "ID", "name": "ì´ë¦„", ... }, ... },
    "filter": { "allTypes": "ì „ì²´ íƒ€ì…", ... },
    "status": { "normal": "ì •ìƒ", "warning": "ê²½ê³ ", "critical": "ìœ„í—˜" },
    "footer": { "total": "ì „ì²´:", "count": "{count}ê°œ" },
    "actions": { "refresh": "ìƒˆë¡œê³ ì¹¨" }
}
```

### ë‹¤êµ­ì–´ ë¶„ë¦¬

| êµ¬ë¶„ | ê´€ë¦¬ ì£¼ì²´ | ì„¤ëª… |
|------|----------|------|
| UI í…ìŠ¤íŠ¸ | í´ë¼ì´ì–¸íŠ¸ (i18n/*.json) | íŒ¨ë„ ì œëª©, ë²„íŠ¼, placeholder ë“± |
| ìì‚° ë°ì´í„° | ì„œë²„ (locale íŒŒë¼ë¯¸í„°) | ìì‚° ì´ë¦„, typeLabel, statusLabel |

## preview.html í…ŒìŠ¤íŠ¸

```bash
# 1. Mock Server ì‹¤í–‰
cd ECO/mock_server
npm start  # http://localhost:4004

# 2. preview.htmlì„ ë¸Œë¼ìš°ì €ì—ì„œ ì—´ê¸°
# (Live Server ë“± ì‚¬ìš©)
```

## ì°¸ê³  ë¬¸ì„œ

- [API_SPEC.md](../../API_SPEC.md) - API ëª…ì„¸
- [I18N_SPEC.md](../../I18N_SPEC.md) - ë‹¤êµ­ì–´ ì„¤ê³„ ëª…ì„¸
- [codeflow.md](codeflow.md) - ì½”ë“œ íë¦„ ì„¤ëª…

---

*ìµœì¢… ì—…ë°ì´íŠ¸: 2026-01-14*
